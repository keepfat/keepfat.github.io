{"version":3,"sources":["webpack:///./src/page/UserStatus.vue?d1c6","webpack:///./src/page/UserStatus.vue","webpack:///src/page/PostList.vue","webpack:///./src/page/PostList.vue?c0b9","webpack:///./src/page/PostList.vue","webpack:///src/views/PostsPage.vue","webpack:///./src/views/PostsPage.vue?4ab3","webpack:///./src/views/PostsPage.vue","webpack:///src/page/UserStatus.vue"],"names":["page_UserStatus","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","cellpadding","cellspacing","border","width","valign","href","directives","name","rawName","value","expression","staticStyle","max-width","max-height","align","_v","_s","username","confirmed","color","on","click","$event","mdShowPost","logout","mdShowLogin","error","mdShowRegister","_m","mdShow","close","closeModal","slot","type","placeholder","domProps","input","target","composing","email","password","login","forget","register","post_title","post_body","change","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","_value","post_city","multiple","disabled","topost","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","UserStatus","__webpack_exports__","PostList","host","String","city","_this","data","prev","next","posts","count","post_id","timestamp","toLocaleString","page_PostList","_l","post","src","author_avastar","alt","to","id","title","author_name","formatTime","comment_count","pagenum","class","getPosts","baseUrl","src_page_PostList","NavHeader","NavFooter","url","views_PostsPage","emitCity","cityChange","tomypost","toPostDetail","PostsPage_Component","PostsPage_normalizeComponent","PostsPage","Modal","__WEBPACK_IMPORTED_MODULE_1__components_Modal__","checkUserStatus","loginUrl","then","res","key","avastar","_this2","registerUrl","clear","_this3"],"mappings":"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","file":"static/js/4.03cd3673a054235f6e41.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLogin)?_c('div',[_c('div',{staticClass:\"status-page\"},[_c('table',{attrs:{\"cellpadding\":\"0\",\"cellspacing\":\"0\",\"border\":\"0\",\"width\":\"100%\"}},[_c('tbody',[_c('tr',[_c('td',{attrs:{\"width\":\"48\",\"valign\":\"top\"}},[_c('a',{attrs:{\"href\":\"javascript:void(0);\"}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.avastar),expression:\"avastar\"}],staticClass:\"avatar\",staticStyle:{\"max-width\":\"48px\",\"max-height\":\"48px\"},attrs:{\"border\":\"0\",\"align\":\"default\"}})])]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"10\",\"valign\":\"top\"}}),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"auto\",\"align\":\"left\"}},[_c('span',{staticClass:\"bigger\"},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(_vm._s(_vm.username))])])]),_vm._v(\" \"),_c('td',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.confirmed),expression:\"!confirmed\"}],staticStyle:{\"color\":\"#e02614\"},attrs:{\"width\":\"auto\"}},[_vm._v(\"未激活\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"s-btn\",on:{\"click\":function($event){_vm.mdShowPost=true}}},[_vm._v(\"发帖\")]),_vm._v(\" \"),_c('div',{staticClass:\"s-btn\"},[_vm._v(\"查看资料\")]),_vm._v(\" \"),_c('div',{staticClass:\"s-btn\"},[_vm._v(\"我的帖子\")]),_vm._v(\" \"),_c('div',{staticClass:\"s-btn\",on:{\"click\":function($event){_vm.logout()}}},[_vm._v(\"登出\")])])]):_c('div',[_c('div',{staticClass:\"status-page\"},[_c('p',{staticClass:\"tips\"},[_vm._v(\"当前尚未登录\")]),_vm._v(\" \"),_c('a',{staticClass:\"s-btn\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.mdShowLogin=true;_vm.error=''}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('a',{staticClass:\"s-btn\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.mdShowRegister=true}}},[_vm._v(\"注册\")])])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('modal',{attrs:{\"mdShow\":_vm.mdShowLogin},on:{\"close\":_vm.closeModal}},[_c('div',{staticClass:\"input-modal\",attrs:{\"slot\":\"message\"},slot:\"message\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.error),expression:\"error\"}],staticClass:\"error-tips\"},[_vm._v(_vm._s(_vm.error))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],attrs:{\"type\":\"email\",\"placeholder\":\"邮箱\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"s-btn\",on:{\"click\":function($event){_vm.login()}}},[_vm._v(\"确认登录\")]),_vm._v(\" \"),_c('button',{staticClass:\"s-btn\",on:{\"click\":function($event){_vm.forget()}}},[_vm._v(\"忘记密码\")])])]),_vm._v(\" \"),_c('modal',{attrs:{\"mdShow\":_vm.mdShowRegister},on:{\"close\":_vm.closeModal}},[_c('div',{staticClass:\"input-modal\",attrs:{\"slot\":\"message\"},slot:\"message\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.error),expression:\"error\"}],staticClass:\"error-tips\"},[_vm._v(_vm._s(_vm.error))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],attrs:{\"type\":\"email\",\"placeholder\":\"邮箱\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"s-btn\",on:{\"click\":function($event){_vm.register()}}},[_vm._v(\"确认注册\")])])]),_vm._v(\" \"),_c('modal',{attrs:{\"mdShow\":_vm.mdShowPost},on:{\"close\":_vm.closeModal}},[_c('div',{staticClass:\"input-modal\",attrs:{\"slot\":\"message\"},slot:\"message\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.error),expression:\"error\"}],staticClass:\"error-tips\"},[_vm._v(_vm._s(_vm.error))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.post_title),expression:\"post_title\"}],attrs:{\"type\":\"text\",\"placeholder\":\"标题\"},domProps:{\"value\":(_vm.post_title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.post_title=$event.target.value}}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.post_body),expression:\"post_body\"}],attrs:{\"placeholder\":\"内容\"},domProps:{\"value\":(_vm.post_body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.post_body=$event.target.value}}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.post_city),expression:\"post_city\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.post_city=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"请选择城市:\")]),_vm._v(\" \"),_c('option',[_vm._v(\"深圳\")]),_vm._v(\" \"),_c('option',[_vm._v(\"广州\")]),_vm._v(\" \"),_c('option',[_vm._v(\"上海\")]),_vm._v(\" \"),_c('option',[_vm._v(\"杭州\")]),_vm._v(\" \"),_c('option',[_vm._v(\"南京\")])]),_vm._v(\" \"),_c('button',{staticClass:\"s-btn\",on:{\"click\":function($event){_vm.topost()}}},[_vm._v(\"确认提交\")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"show-code\"},[_c('div',[_vm._v(\"文明发言，礼貌回帖\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-db1d206e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/page/UserStatus.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-db1d206e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./UserStatus.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./UserStatus.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./UserStatus.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-db1d206e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./UserStatus.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/UserStatus.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <ul class=\"list\">\n      <li v-for=\"post in posts\">\n        <div class=\"avastar\"><img :src=\"post.author_avastar\" alt=\"avastar\"></div>\n        <div class=\"title\">\n          <router-link :to=\"'/post/'+post.id\">{{post.title}}</router-link>\n        </div>\n        <div class=\"topic_info\">\n          <div class=\"author\">发帖人: <strong><a href=\"javascript:void(0);\">{{post.author_name}}</a></strong></div>\n          <div class=\"timestamp\">时间: <span>{{formatTime(post.timestamp)}}</span></div>\n        </div>\n        <div class=\"reply_count\">{{post.comment_count}}</div>\n      </li>\n    </ul>\n    <section class=\"pages-wrap\" v-show=\"count>pagenum\">\n      <ul class=\"pagination clearfix\">\n        <li :class=\"{'disabled':prev==null}\"><a href=\"javascript:;\" @click=\"getPosts(baseUrl+'/api/v1/posts/')\"> 首页 </a>\n        </li>\n        <li :class=\"{'disabled': count<pagenum || prev==null}\"><a href=\"javascript:;\"\n                                                                  @click=\"getPosts(baseUrl+prev)\"> 上一页 </a></li>\n        <li :class=\"{'disabled': count<pagenum || next==null}\"><a href=\"javascript:;\"\n                                                                  @click=\"getPosts(baseUrl+next)\"> 下一页 </a></li>\n      </ul>\n    </section>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n\n  export default {\n    name: \"post-list\",\n    data() {\n      return {\n        baseUrl: this.GLOBAL.host,\n        pagenum: 20,\n        prev: null,\n        next: null,\n        count: 0,\n        posts: [],\n      };\n    },\n    props: {\n      city: {\n        type: String,\n        default: 'sz'\n      }\n    },\n    mounted: function () {\n      this.getPosts(this.baseUrl + '/api/v1/' + this.city + '/posts/');\n    },\n    watch: {\n      city: function () {\n        console.log('city change: ' + this.city);\n        this.getPosts(this.baseUrl + '/api/v1/' + this.city + '/posts/');\n      }\n    },\n    methods: {\n      getPosts(url) {\n        axios.get(url).then((res) => {\n          console.log(res.data);\n          this.prev = res.data.prev;\n          this.next = res.data.next;\n          this.posts = res.data.posts;\n          this.count = res.data.count;\n        }).catch((err) => {\n\n        });\n        window.scrollTo({\"behavior\": \"smooth\", \"top\": 10});   // 跳回顶部\n      },\n      clickTitle(post_id) {\n        this.$emit('toPostDetail', post_id);\n      },\n      formatTime(timestamp) {\n        let ti = new Date(timestamp);\n        return ti.toLocaleString();\n      },\n    }\n  }\n</script>\n\n<style scoped>\n\n\n  .pages-wrap {\n    text-align: center;\n  }\n\n  .pagination {\n    display: inline-block;\n    padding-left: 0;\n    margin: 20px 0;\n    border-radius: 4px;\n  }\n\n  .pagination > li {\n    display: inline;\n  }\n\n  .pagination > .active > a, .pagination > .active > a:hover, .pagination > .active > span, .pagination > .active > span:hover {\n    z-index: 3;\n    color: #fff;\n    cursor: default;\n    background-color: #337ab7;\n    border-color: #337ab7;\n  }\n\n  .pagination > .disabled > a, .pagination > .disabled > a:hover, .pagination > .disabled > span, .pagination > .disabled > span:hover {\n    color: #777;\n    cursor: not-allowed;\n    background-color: #fff;\n    border-color: #ddd;\n  }\n\n  .pagination > li > a:hover, .pagination > li > span:hover {\n    z-index: 2;\n    color: rgba(0, 0, 0, 0.6);\n    background-color: #eee;\n    border-color: #ddd;\n  }\n\n  .pagination > li > a, .pagination > li > span {\n    position: relative;\n    float: left;\n    padding: 6px 12px;\n    margin-left: -1px;\n    line-height: 1.42857143;\n    color: #000;\n    text-decoration: none;\n    background-color: #fff;\n    border: 1px solid #ddd;\n  }\n\n  .list {\n    list-style: none;\n    width: 100%;\n  }\n\n  .list > li {\n    padding: 10px;\n    font-size: 14px;\n    line-height: 120%;\n    text-align: left;\n    border-bottom: 1px solid #e2e2e2;\n    overflow: hidden;\n    position: relative;\n  }\n\n  .avastar {\n    display: inline-block;\n  }\n\n  .avastar > img {\n    max-width: 48px;\n    max-height: 48px;\n  }\n\n  .title {\n    position: absolute;\n    top: 10px;\n    left: 65px;\n    line-height: 130%;\n    text-shadow: 0 1px 0 #fff;\n    word-wrap: break-word;\n    max-width: 80%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .title > a {\n    color: #778087;\n    text-decoration: none;\n    word-break: break-all;\n    font-size: 16px;\n  }\n\n  .title > a:hover, a:hover {\n    color: #4d5256;\n    text-decoration: underline;\n  }\n\n  .topic_info {\n    font-size: 12px;\n    position: absolute;\n    top: 60%;\n    left: 65px;\n  }\n\n  .topic_info > * {\n    float: left;\n    padding-right: 10px;\n  }\n\n  .reply_count {\n    position: absolute;\n    right: 10px;\n    top: 45%;\n    font-weight: 700;\n    border-radius: 12px;\n    text-decoration: none;\n    line-height: 12px;\n    color: #fff;\n    background-color: #aab0c6;\n    display: inline-block;\n    padding: 2px 10px 2px 10px;\n    margin-right: 5px;\n    word-break: keep-all;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/PostList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"list\"},_vm._l((_vm.posts),function(post){return _c('li',[_c('div',{staticClass:\"avastar\"},[_c('img',{attrs:{\"src\":post.author_avastar,\"alt\":\"avastar\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('router-link',{attrs:{\"to\":'/post/'+post.id}},[_vm._v(_vm._s(post.title))])],1),_vm._v(\" \"),_c('div',{staticClass:\"topic_info\"},[_c('div',{staticClass:\"author\"},[_vm._v(\"发帖人: \"),_c('strong',[_c('a',{attrs:{\"href\":\"javascript:void(0);\"}},[_vm._v(_vm._s(post.author_name))])])]),_vm._v(\" \"),_c('div',{staticClass:\"timestamp\"},[_vm._v(\"时间: \"),_c('span',[_vm._v(_vm._s(_vm.formatTime(post.timestamp)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"reply_count\"},[_vm._v(_vm._s(post.comment_count))])])})),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.count>_vm.pagenum),expression:\"count>pagenum\"}],staticClass:\"pages-wrap\"},[_c('ul',{staticClass:\"pagination clearfix\"},[_c('li',{class:{'disabled':_vm.prev==null}},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.getPosts(_vm.baseUrl+'/api/v1/posts/')}}},[_vm._v(\" 首页 \")])]),_vm._v(\" \"),_c('li',{class:{'disabled': _vm.count<_vm.pagenum || _vm.prev==null}},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.getPosts(_vm.baseUrl+_vm.prev)}}},[_vm._v(\" 上一页 \")])]),_vm._v(\" \"),_c('li',{class:{'disabled': _vm.count<_vm.pagenum || _vm.next==null}},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.getPosts(_vm.baseUrl+_vm.next)}}},[_vm._v(\" 下一页 \")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-f3ade3ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/page/PostList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f3ade3ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./PostList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./PostList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./PostList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f3ade3ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./PostList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f3ade3ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/PostList.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <nav-header  @change=\"cityChange\" :emitCity=\"city\"></nav-header>\n    <div class=\"content\">\n\n      <div class=\"leftBar\"></div>\n      <div class=\"rightBar\">\n        <div class=\"box\">\n          <div class=\"cell\">\n            <user-status @tomypost=\"cityChange\"></user-status>\n          </div>\n          <div class=\"cell\"></div>\n        </div>\n      </div>\n      <div class=\"main box\">\n        <div class=\"posts\">\n          <post-list :city=\"city\" @toPostDetail=\"toPostDetail\"></post-list>\n        </div>\n      </div>\n    </div>\n    <nav-footer></nav-footer>\n  </div>\n\n</template>\n\n<script>\n  import NavHeader from '@/components/NavHeader'\n  import NavFooter from '@/components/NavFooter'\n  import UserStatus from '@/page/UserStatus'\n  import PostList from '@/page/PostList'\n\n  export default {\n    name: \"posts-page\",\n    data() {\n      return {\n        city:'sz',\n      }\n    },\n    components: {\n      NavHeader,\n      NavFooter,\n      UserStatus,\n      PostList,\n    },\n    mounted: function () {\n\n    },\n    methods: {\n      cityChange(city){\n        this.city = city;\n      },\n      toPostDetail(url){\n        console.log(url);\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .content {\n    min-width: 600px;\n    max-width: 1100px;\n    margin: 20px auto 20px auto;\n    text-align: center;\n  }\n\n  .box {\n    background-color: #fff;\n    border-radius: 3px;\n    box-shadow: 0 2px 3px rgba(0, 0, 0, .1);\n    border-bottom: 1px solid #e2e2e2;\n  }\n\n  .cell {\n    padding: 10px;\n    font-size: 14px;\n    line-height: 120%;\n    text-align: left;\n    border-bottom: 1px solid #e2e2e2;\n  }\n\n  .main {\n    width: auto;\n    margin: 0 310px 0 20px;\n  }\n\n  .main .posts {\n    width: 100%;\n    min-height:300px;\n    margin: 0 auto;\n  }\n\n  .leftBar {\n    width: 0;\n    float: left;\n  }\n\n  .rightBar {\n    float: right;\n    display: inline-block;\n    width: 270px;\n    margin-right: 20px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/PostsPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-header',{attrs:{\"emitCity\":_vm.city},on:{\"change\":_vm.cityChange}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"leftBar\"}),_vm._v(\" \"),_c('div',{staticClass:\"rightBar\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"cell\"},[_c('user-status',{on:{\"tomypost\":_vm.cityChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"cell\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"main box\"},[_c('div',{staticClass:\"posts\"},[_c('post-list',{attrs:{\"city\":_vm.city},on:{\"toPostDetail\":_vm.toPostDetail}})],1)])]),_vm._v(\" \"),_c('nav-footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-6cfc6262\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/PostsPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6cfc6262\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./PostsPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./PostsPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./PostsPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6cfc6262\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./PostsPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6cfc6262\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/PostsPage.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div v-if=\"isLogin\">\n      <div class=\"status-page\">\n        <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"100%\">\n          <tbody>\n          <tr>\n            <td width=\"48\" valign=\"top\"><a href=\"javascript:void(0);\"><img\n              v-lazy=\"avastar\" class=\"avatar\" border=\"0\"\n              align=\"default\" style=\"max-width: 48px; max-height: 48px;\"></a></td>\n            <td width=\"10\" valign=\"top\"></td>\n            <td width=\"auto\" align=\"left\"><span class=\"bigger\"><a href=\"\">{{username}}</a></span>\n            </td>\n            <td width=\"auto\" v-show=\"!confirmed\" style=\"color:#e02614\">未激活</td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"s-btn\" @click=\"mdShowPost=true\">发帖</div>\n        <div class=\"s-btn\">查看资料</div>\n        <div class=\"s-btn\">我的帖子</div>\n        <div class=\"s-btn\" @click=\"logout()\">登出</div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"status-page\">\n        <p class=\"tips\">当前尚未登录</p>\n        <a class=\"s-btn\" href=\"javascript:void(0);\" @click=\"mdShowLogin=true;error=''\">登录</a>\n        <a class=\"s-btn\" href=\"javascript:void(0);\" @click=\"mdShowRegister=true\">注册</a>\n      </div>\n    </div>\n    <div class=\"show-code\">\n      <div>文明发言，礼貌回帖</div>\n    </div>\n    <modal v-bind:mdShow=\"mdShowLogin\" @close=\"closeModal\">\n      <div slot=\"message\" class=\"input-modal\">\n        <div class=\"error-tips\" v-show=\"error\">{{error}}</div>\n        <input type=\"email\" v-model=\"email\" placeholder=\"邮箱\">\n        <input type=\"password\" v-model=\"password\" placeholder=\"密码\">\n        <button class=\"s-btn\" @click=\"login()\">确认登录</button>\n        <button class=\"s-btn\" @click=\"forget()\">忘记密码</button>\n      </div>\n    </modal>\n    <modal v-bind:mdShow=\"mdShowRegister\" @close=\"closeModal\">\n      <div slot=\"message\" class=\"input-modal\">\n        <div class=\"error-tips\" v-show=\"error\">{{error}}</div>\n        <input type=\"email\" v-model=\"email\" placeholder=\"邮箱\">\n        <input type=\"text\" v-model=\"username\" placeholder=\"用户名\">\n        <input type=\"password\" v-model=\"password\" placeholder=\"密码\">\n        <button class=\"s-btn\" @click=\"register()\">确认注册</button>\n      </div>\n    </modal>\n    <modal v-bind:mdShow=\"mdShowPost\" @close=\"closeModal\">\n      <div slot=\"message\" class=\"input-modal\">\n        <div class=\"error-tips\" v-show=\"error\">{{error}}</div>\n        <input type=\"text\" v-model=\"post_title\" placeholder=\"标题\">\n        <textarea v-model=\"post_body\" placeholder=\"内容\"></textarea>\n        <select v-model=\"post_city\">\n          <option disabled value=\"\">请选择城市:</option>\n          <option>深圳</option>\n          <option>广州</option>\n          <option>上海</option>\n          <option>杭州</option>\n          <option>南京</option>\n        </select>\n        <button class=\"s-btn\" @click=\"topost()\">确认提交</button>\n      </div>\n    </modal>\n  </div>\n\n</template>\n\n<script>\n  import axios from 'axios'\n  import Modal from '@/components/Modal'\n\n  export default {\n    name: \"user-status\",\n    data() {\n      return {\n        isLogin: false,\n        email: '',\n        username: '',\n        password: '',\n        avastar: '',\n        confirmed:true,\n        admin:false,\n        error: '',\n        post_title: '',\n        post_body: '',\n        post_city: '',\n        baseUrl: this.GLOBAL.host,\n        mdShowLogin: false,\n        mdShowRegister: false,\n        mdShowPost: false,\n      }\n    },\n    components: {\n      Modal,\n    },\n    mounted: function () {\n      this.checkUserStatus();\n    },\n    methods: {\n      checkUserStatus() {\n        const token = sessionStorage.getItem('token');\n        if (token == null) {\n          // 用户未登录\n          this.isLogin = false;\n        } else {\n          // 已登录\n          this.isLogin = true;\n          this.avastar = sessionStorage.getItem('avastar');\n          this.username = sessionStorage.getItem('username');\n          this.confirmed = eval(sessionStorage.getItem('confirmed'));\n          this.admin = eval(sessionStorage.getItem('admin'));\n        }\n      },\n      login() {\n        this.mdShowLogin = true;\n        this.error='';\n        const loginUrl = this.baseUrl + '/api/v1/tokens/';\n        axios({\n          method: 'POST',\n          url: loginUrl,\n          auth: {username: this.email, password: this.password}\n        }).then((res) => {\n          console.log(res);\n          for (var key in res.data) {\n            sessionStorage.setItem(key, res.data[key]);\n          }\n          this.avastar = res.data.avastar;\n          this.username = res.data.username;\n          this.confirmed = res.data.confirmed;\n          this.isLogin = true;\n          this.mdShowLogin = false;\n          this.error = '';\n        }).catch((err) => {\n          this.error = '用户名或密码错误!';\n        })\n      },\n      register() {\n        this.mdShowRegister = true;\n        const registerUrl = this.baseUrl + '/api/v1/users/register';\n        axios({\n          method:'POST',\n          url:registerUrl,\n          data:{\n            email:this.email,\n            username:this.username,\n            password:this.password\n          }\n        }).then((res)=>{\n          console.log(res);\n          if(res.status==201){\n            this.mdShowRegister = false;\n            this.mdShowLogin = true;\n            this.password = '';\n            this.error = '注册成功,请前往邮箱激活!';\n          }\n        }).catch((err)=>{\n          this.error = '注册失败,可能邮箱或用户名重复!';\n        });\n      },\n      logout() {\n        if (confirm('确认要登出吗?')) {\n          sessionStorage.clear();\n          this.isLogin = false;\n        }\n      },\n      forget() {\n        var url = this.baseUrl + '/api/v1/users/';\n        axios.get(url).then((res) => {\n          console.log(res);\n        }).catch((err) => {\n\n        });\n      },\n      topost() {\n        /*用户发帖*/\n        this.error='';\n        const city_dict = {'深圳': 'sz', '广州': 'gz', '上海': 'sh', '杭州': 'hz', '南京': 'nj'};\n        if (city_dict[this.post_city] != undefined) {\n          axios({\n            method:'POST',\n            url:this.baseUrl+'/api/v1/'+city_dict[this.post_city]+'/posts',\n            data:{\n              title:this.post_title,\n              body:this.post_body\n            }\n          }).then((res) => {\n            this.$emit('tomypost',city_dict[this.post_city]);\n            this.mdShowPost = false;\n          }).catch((err) => {\n            this.error='发帖错误,请检查是否激活账号...';\n          });\n        } else {\n          this.error = '请选择城市';\n        }\n      },\n      closeModal() {\n        this.mdShowLogin = false;\n        this.mdShowRegister = false;\n        this.mdShowPost = false;\n        this.error = '';\n      }\n    },\n  }\n</script>\n\n<style>\n  .status-page {\n    padding: 10px;\n    min-height: 80px;\n    font-size: 14px;\n    line-height: 120%;\n    text-align: center;\n    border-bottom: 1px solid #e2e2e2;\n  }\n  .show-code{\n    line-height:50px;\n    text-align: center;\n  }\n\n  .tips {\n    margin-bottom: 12px;\n  }\n\n  .error-tips {\n    color: #e02614;\n  }\n\n  .s-btn {\n    position: relative;\n    display: inline-block;\n    min-width: 88px;\n    height: 36px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    padding: 0 16px;\n    margin: 5px;\n    overflow: hidden;\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 36px;\n    color: #fff;\n    text-align: center;\n    text-decoration: none;\n    text-transform: uppercase;\n    letter-spacing: .04em;\n    white-space: nowrap;\n    vertical-align: middle;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    zoom: 1;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    background: #42b983;\n    border: none;\n    border-radius: 2px;\n    outline: none;\n    -webkit-transition: all .2s cubic-bezier(.4, 0, .2, 1), -webkit-box-shadow .2s cubic-bezier(.4, 0, 1, 1);\n    transition: all .2s cubic-bezier(.4, 0, .2, 1), -webkit-box-shadow .2s cubic-bezier(.4, 0, 1, 1);\n    transition: all .2s cubic-bezier(.4, 0, .2, 1), box-shadow .2s cubic-bezier(.4, 0, 1, 1);\n    transition: all .2s cubic-bezier(.4, 0, .2, 1), box-shadow .2s cubic-bezier(.4, 0, 1, 1), -webkit-box-shadow .2s cubic-bezier(.4, 0, 1, 1);\n    will-change: box-shadow;\n    -webkit-user-drag: none;\n  }\n\n  .s-btn:hover {\n    color: #000;\n    background-color: rgba(0, 0, 0, .1);\n  }\n\n  .input-modal {\n    text-align: center;\n  }\n\n  .input-modal > *:not(button) {\n    margin: 20px auto;\n    display: block;\n  }\n\n  .input-modal > textarea {\n    min-width: 370px;\n  }\n\n  .input-modal > select {\n    padding: 5px;\n    font-size: 14px;\n    border: none;\n    border-bottom: 1px solid #000;\n  }\n\n  .input-modal > input {\n    margin: 20px auto;\n    display: block;\n    font-size: 16px;\n    font-weight: normal;\n    min-width: 370px;\n    padding: 0;\n    border: none;\n    border-bottom: 1px solid #7a7775;\n  }\n\n\n\n  .avastar > img {\n    max-width: 48px;\n    max-height: 48px;\n  }\n\n  .avastar > span {\n    display: inline-block;\n    height: 48px;\n\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/UserStatus.vue"],"sourceRoot":""}